# Консольная игра в классические шашки с алгоритмом MiniMax

## Описание
Данная программа предназначена для игры в классические шашки против пользователя. 

- **Выбор цвета**: При запуске пользователь выбирает цвет. Если выбраны «белые» — игрок ходит первым. Если «чёрные» — компьютер сразу делает стартовый ход за белых. 
- **Отображение доски**: На экран выводится доска 8×8 с координатами (A–H и 1–8). 
- **Ввод хода**: Пользователь вводит ход в формате `(A3 B4)`. Если ход неверен, программа просит повторить ввод. 
- **Ход компьютера**: После валидного хода компьютер рассчитывает свой ответ параллельным алгоритмом Minimax и делает ход. Ходы чередуются, пока одна из сторон не лишится возможности двигаться. 

Программа поддерживает все классические правила русских шашек (включая дамки, движение по диагонали, принудительную рубку и т.д.). Исходный код не требует сторонних библиотек и может быть скомпилирован любым компилятором C++17 и собран с помощью CMake.

---

## Основной класс программы: `CheckersBoard`
Класс `CheckersBoard` хранит текущее состояние игрового поля и основные методы для управления игрой.

### Структура данных
- Поле хранится в виде двумерного массива (вектора векторов) размером 8×8.
- Каждый элемент массива — перечислимый тип `Piece`:
  1. `W` — простая белая шашка.
  2. `B` — простая чёрная шашка.
  3. `DW` — белая дамка.
  4. `DB` — чёрная дамка.
  5. `EMPTY` — пустая клетка.
- Поле `whiteToMove` (логического типа): 
  - `true` — ход белых.
  - `false` — ход чёрных.

### Основные методы
1. **`initBoard`**: Устанавливает начальную расстановку фигур (белые занимают верхнюю часть доски, чёрные — нижнюю).
2. **`printBoard`**: Выводит доску и координаты строк (1–8) и столбцов (A–H).
3. **`makeMove`**: Проверяет корректность хода, применяет его к доске и обновляет состояние:
   - Реализует превращение простой шашки в дамку при достижении противоположного края.
   - Учитывает принудительную рубку.
4. **`getAllPossibleMoves`**: Перебирает все возможные ходы текущего игрока. Если есть ходы с рубкой, возвращает только их.

---

## Алгоритм Minimax
Для выбора оптимального хода компьютером используется алгоритм Minimax с альфа-бета-отсечением. 

### Основные характеристики
- **Глубина поиска**: 5 уровней.
- **Построение дерева ходов**:
  - Каждый уровень соответствует одному полуходу (ход либо белых, либо чёрных).
  - Для текущего игрока составляется список доступных ходов. Для каждого из них виртуально делается ход, после чего вызывается Minimax на следующую глубину.
  - После достижения максимальной глубины вызывается функция `evaluateBoard`, которая оценивает текущую позицию.
- **Оценка позиции**:
  - Белая простая шашка: `+1`.
  - Белая дамка: `+3`.
  - Чёрная простая шашка: `-1`.
  - Чёрная дамка: `-3`.
- **Оптимизация через альфа-бета-отсечение**:
  - Прерывает перебор веток, которые не могут улучшить итоговый результат.

### Многопоточность
Для ускорения вычислений используется многопоточность (`std::thread`):
- На верхних уровнях Minimax создаётся отдельный поток для каждого доступного хода.
- Внутри каждого потока:
  1. Создаётся копия текущей доски.
  2. Выполняется ход и вызывается Minimax для следующей глубины.
  3. Результат сохраняется в общий массив.
- После завершения всех потоков результаты объединяются, и выбирается оптимальный ход.

Ограничение создания потоков только верхними уровнями предотвращает экспоненциальный рост их количества и сохраняет эффективность альфа-бета-отсечения.

---

## Пример работы
1. Пользователь выбирает цвет.
2. Выводится начальная доска.
3. Пользователь и компьютер делают ходы по очереди.
4. Партия завершается, когда одна из сторон лишается возможности двигаться. Победитель определяется по текущей позиции на доске.

---

## Сборка
Для сборки программы используйте любой компилятор C++17 и CMake:
```
bash
mkdir build
cd build
cmake ..
make
```
## Запуск
```./task1```
